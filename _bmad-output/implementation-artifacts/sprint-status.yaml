# generated: 2026-02-13
# project: Minstrel
# project_key: NOKEY
# tracking_system: file-system
# story_location: _bmad-output/implementation-artifacts

# STATUS DEFINITIONS:
# ==================
# Epic Status:
#   - backlog: Epic not yet started
#   - in-progress: Epic actively being worked on
#   - done: All stories in epic completed
#
# Epic Status Transitions:
#   - backlog -> in-progress: Automatically when first story is created (via create-story)
#   - in-progress -> done: Manually when all stories reach 'done' status
#
# Story Status:
#   - backlog: Story only exists in epic file
#   - ready-for-dev: Story file created in stories folder
#   - in-progress: Developer actively working on implementation
#   - review: Ready for code review (via Dev's code-review workflow)
#   - done: Story completed
#
# Retrospective Status:
#   - optional: Can be completed but not required
#   - done: Retrospective has been completed
#
# WORKFLOW NOTES:
# ===============
# - Epic transitions to 'in-progress' automatically when first story is created
# - Stories can be worked in parallel if team capacity allows
# - SM typically creates next story after previous one is 'done' to incorporate learnings
# - Dev moves story to 'review', then runs code-review (fresh context, different LLM recommended)

generated: 2026-02-13
project: Minstrel
project_key: NOKEY
tracking_system: file-system
story_location: _bmad-output/implementation-artifacts

development_status:
  # Epic 1: First Note Experience
  epic-1: done
  1-1-initialize-project-from-starter-template: done
  1-2-configure-design-system-and-dark-studio-aesthetic: done
  1-3-web-midi-device-connection-and-auto-detection: done
  1-4-midi-event-capture-and-basic-canvas-visualization: done
  1-5-midi-troubleshooting-guidance: done
  1-6-audio-only-fallback-mode: done
  1-7-guest-mode-entry-point: done
  epic-1-retrospective: optional

  # Epic 2: Real-Time Analysis & Silent Coach
  epic-2: done
  2-1-note-and-chord-detection-engine: done
  2-2-timing-accuracy-and-tempo-analysis: done
  2-3-key-center-and-harmonic-analysis: done
  2-4-genre-pattern-and-tendency-tracking: done
  2-5-silence-triggered-session-snapshot: done
  2-6-silent-coach-mode-layout: done
  2-7-freeform-play-mode: done
  2-8-session-recording-to-indexeddb: done
  epic-2-retrospective: optional

  # Epic 3: Accounts & API Key Management
  epic-3: done
  3-1-user-registration-and-login: done
  3-2-guest-to-account-data-migration: done
  3-3-llm-api-key-configuration-ui: done
  3-4-api-key-validation-and-encrypted-storage: done
  3-5-graceful-degradation-without-api-key: done
  3-6-token-usage-estimation-display: done
  epic-3-retrospective: optional

  # Epic 4: AI Coaching & Dashboard Mode
  epic-4: done
  4-1-vercel-ai-sdk-integration-and-provider-setup: done
  4-2-dashboard-chat-mode-layout: done
  4-3-ai-coaching-chat-with-streaming-responses: done
  4-4-session-grounded-ai-responses: done
  4-5-genre-aware-advice-and-growth-mindset-framing: done
  epic-4-retrospective: optional

  # Epic 5: Difficulty Engine & AI Drills
  epic-5: done
  5-1-multi-dimensional-skill-assessment: done
  5-2-dynamic-difficulty-adjustment-and-growth-zone-detection: done
  5-3-progressive-overload-and-cross-session-recalibration: done
  5-4-ai-drill-generation: done
  5-5-midi-output-demonstration-playback: done
  5-6-drill-tracking-and-improvement-measurement: done
  5-7-micro-sessions-and-auto-generated-warm-ups: done
  epic-5-retrospective: optional

  # Epic 6: Session Replay & Continuity
  epic-6: done
  6-1-replay-studio-mode-layout: done
  6-2-timeline-scrubbing-and-playback-controls: done
  6-3-ai-questions-about-replay-moments: done
  6-4-cross-session-continuity: done
  epic-6-retrospective: optional

  # Epic 7: Engagement & Progress Tracking
  epic-7: done
  7-1-practice-streak-tracking: done
  7-2-xp-calculation-and-awards: done
  7-3-achievement-badges-system: done
  7-4-progress-trends-visualization: done
  7-5-weekly-progress-summaries: done
  7-6-personal-records-tracking: done
  epic-7-retrospective: optional

  # Epic 8: Critical Bug Fixes & Core Flow Repair
  epic-8: done
  8-1-fix-replay-timing-accuracy-bug: done
  8-2-fix-snapshot-cta-drill-generation-flow: done
  8-3-add-api-key-guard-to-coaching-chat: done
  8-4-fix-auth-flow-bugs: done
  8-5-replace-delete-account-with-honest-ux: done
  8-6-wire-ai-provider-selection-from-saved-key: done
  8-7-add-nextjs-middleware-auth-route-protection: done
  epic-8-retrospective: optional

  # Epic 9: Design System Remediation
  epic-9: done
  9-1-change-destructive-error-colors-to-amber: done
  9-2-replace-hardcoded-colors-with-design-tokens: done
  9-3-refactor-raw-buttons-and-inline-styles: done
  9-4-add-responsive-breakpoints-dashboard-replay: done
  9-5-fix-accessibility-gaps: done
  9-6-add-mobile-redirect-and-browser-incompatibility: done
  epic-9-retrospective: optional

  # Epic 10: Missing Screens & User Journeys
  epic-10: done
  10-1-first-run-onboarding-empty-state: done
  10-2-session-summary-screen: done
  10-3-return-session-welcome-experience: done
  10-4-session-history-browser: done
  10-5-achievement-gallery: done
  10-6-keyboard-shortcuts-help-panel: done
  10-7-warm-up-generation-flow: done
  10-8-offline-mode-indicator: done
  epic-10-retrospective: optional

  # Epic 11: AI Coaching & Data Integrity Fixes
  epic-11: done
  11-1-wire-growth-mindset-validation-streaming: done
  11-2-add-genre-terminology-all-13-genres: done
  11-3-wire-token-tracking-and-response-processor: done
  11-4-context-length-management-rate-limit-retry: done
  11-5-fix-xp-race-condition-and-streak-timezone: done
  11-6-session-expiry-notification-api-key-validity: done
  11-7-data-export-gdpr-compliance: done
  epic-11-retrospective: optional

  # Epic 12: Session Replay Resurrection (P0)
  epic-12: done
  12-1-build-replay-event-dispatcher: done
  12-2-wire-replay-events-to-visualization-canvas: done
  12-3-add-midi-output-playback-during-replay: done
  12-4-populate-timeline-markers-from-session-data: done
  12-5-add-replay-mode-visual-indicator: done
  epic-12-retrospective: optional

  # Epic 13: Navigation & Layout Overhaul (P0)
  epic-13: done
  13-1-add-persistent-app-navigation-sidebar: done
  13-2-integrate-mode-switcher-into-layout-flow: done
  13-3-fix-element-overlap-and-z-index-stacking: done
  13-4-fix-replay-trackbar-and-panel-positioning: done
  13-5-add-keyboard-navigation-and-focus-management: done
  epic-13-retrospective: optional

  # Epic 14: User Dashboard & Data Accuracy (P0/P1)
  epic-14: done
  14-1-create-proper-user-dashboard-view: done
  14-2-build-skill-profile-radar-visualization: done
  14-3-fix-datacard-session-sync: done
  14-4-fix-bpm-detection-accuracy: done
  14-5-fix-snapshot-accuracy-and-enrich-content: done
  14-6-fix-key-detection-confidence: done
  14-7-fix-session-history-completeness: done
  epic-14-retrospective: optional

  # Epic 15: Drill System Overhaul (P0/P1)
  epic-15: done
  15-1-route-drill-generation-to-structured-api: done
  15-2-build-drill-preview-and-audio-playback: done
  15-3-wire-drill-controller-with-full-phase-flow: done
  15-4-add-drill-persistence-to-indexeddb: done
  15-5-fix-drill-prompt-textarea: done
  epic-15-retrospective: optional

  # Epic 16: AI Chat & Visualization Enrichment (P1/P2)
  epic-16: done
  16-1-increase-chord-and-note-visualization-sizing: done
  16-2-build-rich-ai-response-components: done
  16-3-fix-visual-hierarchy-and-typography: done
  16-4-add-studio-engineer-visual-persona: done
  16-5-add-canvas-visualization-legend: done
  epic-16-retrospective: optional

  # Epic 17: UX Polish & Missing Features (P2/P3)
  epic-17: done
  17-1-surface-warm-up-drills-section: done
  17-2-surface-progress-data-prominently: done
  17-3-improve-mode-switching-ux: done
  17-4-add-session-end-experience: done
  17-5-design-better-empty-states: done
  17-6-fix-color-usage-add-success-states: done
  17-7-add-visual-chord-indicators: done
  17-8-add-midi-input-quality-feedback: done
  epic-17-retrospective: optional

  # Epic 18: Critical Security & Data Integrity (P0 — Blocks Launch)
  # Source: code-review-findings-epics-8-11.md — 17 CRITICAL findings
  epic-18: done
  18-1-add-csrf-protection-to-all-api-routes: done
  18-2-harden-encryption-key-validation: done
  18-3-fix-session-buffer-data-loss-and-flush-reentrancy: done
  18-4-fix-concurrent-xp-and-streak-race-conditions: done
  18-5-fix-pattern-analysis-memory-leak: done
  18-6-fix-ui-critical-landmarks-async-errors-memory-leaks: done
  18-7-fix-token-extraction-and-growth-mindset-stream-filtering: done
  18-8-fix-ai-security-prompt-injection-rate-limits: done
  epic-18-retrospective: optional

  # Epic 19: High Priority Fixes (P1 — Recommended before launch)
  # Source: code-review-findings-epics-8-11.md — 27 HIGH findings
  epic-19: done
  19-1-migrate-rate-limiting-to-distributed-store: done
  19-2-fix-api-key-validation-non-charging-endpoints: done
  19-3-fix-stale-closures-and-reentrancy-guards: done
  19-4-add-atomic-indexeddb-transactions: done
  19-5-fix-ai-token-budget-context-error-classification: done
  19-6-fix-drill-replay-context-and-timeout: done
  19-7-fix-dashboard-accessibility-aria-attributes: done
  19-8-fix-chat-and-input-accessibility: done
  19-9-fix-modal-focus-traps-and-keyboard-support: done
  19-10-fix-banner-behavior-and-timeline-navigation: done
  epic-19-retrospective: optional

  # Epic 20: Medium Priority Polish (P2 — Post-launch acceptable)
  # Source: code-review-findings-epics-8-11.md — 35 MEDIUM findings
  epic-20: done
  20-1-fix-security-polish-ci-imports-errors: done
  20-2-fix-timezone-bug-and-xp-error-handling: done
  20-3-fix-drill-player-memory-leaks-and-race-conditions: done
  20-4-fix-stale-closures-and-buffer-guards: done
  20-5-fix-data-export-completeness: done
  20-6-clean-up-dead-code-schema-mismatches-missing-context: done
  20-7-fix-ai-observability-and-logging: done
  20-8-fix-screen-reader-and-landmark-issues: done
  20-9-fix-chat-ux-scroll-submit-color-logic: done
  20-10-fix-animation-and-cleanup-accessibility: done
  20-11-add-focus-traps-and-reduced-motion-support: done
  20-12-add-virtualization-and-pagination: done
  epic-20-retrospective: optional

  # Epic 21: Low Priority Cleanup (P3 — Post-launch)
  # Source: code-review-findings-epics-8-11.md — 20 LOW findings
  epic-21: done
  21-1-harden-middleware-and-rls-verification: done
  21-2-fix-dst-edge-case-and-accumulator-reset: done
  21-3-fix-timer-and-subscription-cleanup: done
  21-4-fix-session-cache-and-metadata: done
  21-5-clean-up-dead-code-and-stale-pricing: done
  21-6-fix-retry-logic-and-export-compression: done
  21-7-expand-growth-mindset-rules: done
  21-8-fix-ui-edge-cases-limits-magic-numbers-localstorage: done
  epic-21-retrospective: optional

  # Epic 22: Error Visibility & MIDI Connection Feedback (P0 — Launch Blocker)
  # Source: adversarial-ux-review-2026-02-16.md — MIDI-C1-C9, SET-C8, NAV-C5, Theme 1/3
  epic-22: done
  22-1-create-centralized-error-banner-and-surface-midi-errors: done
  22-2-add-midi-connection-loading-indicator-and-timeout: done
  22-3-fix-troubleshooting-panel-behavior-and-persistence: done
  22-4-add-audio-mode-limitations-explainer-and-permission-error: done
  22-5-fix-drum-channel-warning-messaging: done
  22-6-fix-first-run-prompt-timing-and-midi-coordination: done
  22-7-add-session-expiry-ui-response: done
  epic-22-retrospective: optional

  # Epic 23: Canvas Visualization Overhaul (P0 — Launch Blocker)
  # Source: adversarial-ux-review-2026-02-16.md — VIZ-C1-C8, VIZ HIGH findings
  epic-23: done
  23-1-verify-and-fix-piano-roll-note-mapping-direction: done
  23-2-fix-timing-feedback-visibility-pulses-and-flow-glow: done
  23-3-fix-harmonic-overlay-markers-and-chord-quality-distinction: done
  23-4-add-chord-hud-empty-and-waiting-states: done
  23-5-fix-canvas-clearing-and-idle-frame-handling: done
  23-6-fix-snapshot-and-label-text-readability: done
  23-7-fix-timing-grid-model-and-velocity-rendering: done
  epic-23-retrospective: optional

  # Epic 24: Session Lifecycle & Data Integrity (P0 — Launch Blocker)
  # Source: adversarial-ux-review-2026-02-16.md — MIDI-C10-C18, Theme 4
  epic-24: in-progress
  24-1-fix-session-end-vs-session-summary-lifecycle: done # 2026-02-16
  24-2-add-multi-store-state-coordination: done # 2026-02-16
  24-3-fix-audio-midi-switch-note-state-loss: done # 2026-02-16
  24-4-add-indexeddb-write-error-handling-and-feedback: done # 2026-02-16
  24-5-fix-navigation-duplicate-handlers-and-device-hotplug: done # 2026-02-16
  24-6-fix-migration-indicator-and-localstorage-safety: ready-for-dev
  epic-24-retrospective: optional

  # Epic 25: Drill System UX Overhaul (P0/P1)
  # Source: adversarial-ux-review-2026-02-16.md — DRILL-C1-C5, DRILL HIGH findings
  epic-25: backlog
  25-1-display-success-criteria-during-drill-execution: ready-for-dev
  25-2-add-difficulty-change-explanations: ready-for-dev
  25-3-add-attempt-phase-countdown-timer-and-done-button: ready-for-dev
  25-4-streamline-drill-creation-flow: ready-for-dev
  25-5-keep-instructions-visible-and-add-real-time-feedback: ready-for-dev
  25-6-fix-warm-up-prompt-timing-and-add-drill-pause-resume: ready-for-dev
  epic-25-retrospective: optional

  # Epic 26: Dashboard & AI Coaching UX (P0/P1)
  # Source: adversarial-ux-review-2026-02-16.md — DASH-C1-C3, ENG-C1, Theme 2
  epic-26: backlog
  26-1-add-progressive-disclosure-to-dashboard: ready-for-dev
  26-2-fix-growth-mindset-streaming-pre-filter-before-ui: ready-for-dev
  26-3-fix-chat-input-overflow-and-mobile-ux: ready-for-dev
  26-4-improve-data-card-values-empty-states-and-streak-messaging: ready-for-dev
  26-5-improve-skill-radar-token-usage-and-difficulty-display: ready-for-dev
  26-6-improve-ai-chat-error-messages-and-feedback: ready-for-dev
  epic-26-retrospective: optional

  # Epic 27: Auth & BYOK Settings Overhaul (P0/P1)
  # Source: adversarial-ux-review-2026-02-16.md — SET-C1-C7, AUTH-C1-C3
  epic-27: backlog
  27-1-add-step-by-step-byok-setup-guide: ready-for-dev
  27-2-improve-api-key-validation-feedback: ready-for-dev
  27-3-add-mid-session-key-expiry-detection: ready-for-dev
  27-4-redesign-settings-page-navigation: ready-for-dev
  27-5-add-logout-confirmation-dialog: ready-for-dev
  27-6-fix-auth-loading-states-and-password-hints: ready-for-dev
  27-7-resolve-duplicate-auth-pages-and-improve-auth-ux: ready-for-dev
  epic-27-retrospective: optional

  # Epic 28: Navigation & Layout Fixes (P1)
  # Source: adversarial-ux-review-2026-02-16.md — NAV-C1-C4, NAV HIGH findings
  epic-28: backlog
  28-1-fix-z-index-collisions-and-overlay-stacking: ready-for-dev
  28-2-fix-duplicate-main-elements-and-shared-statusbar: ready-for-dev
  28-3-fix-keyboard-shortcut-suppression-in-text-inputs: ready-for-dev
  28-4-improve-sign-out-discoverability-and-audio-mode-banner: ready-for-dev
  28-5-fix-return-session-banner-and-mode-transition-feedback: ready-for-dev
  epic-28-retrospective: optional

  # Epic 29: Replay, Engagement & Design Polish (P1/P2)
  # Source: adversarial-ux-review-2026-02-16.md — REPLAY-C1-C4, DS-C1-C2, Theme 5
  epic-29: backlog
  29-1-add-replay-error-recovery-and-edge-case-handling: ready-for-dev
  29-2-fix-replay-timestamp-alignment-and-chat-context: ready-for-dev
  29-3-improve-achievement-gallery-and-progress-feedback: ready-for-dev
  29-4-fix-hardcoded-colors-and-design-system-violations: ready-for-dev
  29-5-fix-responsive-breakdowns-across-viewports: ready-for-dev
  29-6-improve-replay-export-session-history-and-provider-ux: ready-for-dev
  epic-29-retrospective: optional
